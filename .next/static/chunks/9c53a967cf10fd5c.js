(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83385,e=>{"use strict";var a=e.i(46997),t=e.i(3386),r=e.i(33637);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));s.displayName="Card";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let o=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},14724,89344,e=>{"use strict";var a=e.i(46997),t=e.i(3386),r=e.i(33637);let s=t.forwardRef(({className:e,type:t,...s},i)=>(0,a.jsx)("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s],14724),e.i(64827);var i=e.i(54958),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=(0,i.createSlot)(`Primitive.${r}`),n=t.forwardRef((e,t)=>{let{asChild:i,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?s:r,{...n,ref:t})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),l=t.forwardRef((e,t)=>(0,a.jsx)(n.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";let o=(0,e.i(89547).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)(l,{ref:s,className:(0,r.cn)(o(),e),...t}));d.displayName=l.displayName,e.s(["Label",()=>d],89344)},37190,e=>{"use strict";let a=(0,e.i(74730).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],37190)},7121,e=>{"use strict";let a=(0,e.i(74730).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],7121)},8254,e=>{"use strict";var a=e.i(46997),t=e.i(3386),r=e.i(72528),s=e.i(87948),i=e.i(38933),n=e.i(14724),l=e.i(89344),o=e.i(83385),d=e.i(37190),c=e.i(7121);let u=["Cordas","Madeiras","Metais","Saxofones","Teclas","Percussão"];function m({params:e}){let{id:m}=(0,t.use)(e),f=(0,r.useRouter)(),[h,x]=(0,t.useState)(!1),[p,v]=(0,t.useState)(!1),[b,j]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[C,k]=(0,t.useState)(!0),[S,E]=(0,t.useState)(!0);(0,t.useEffect)(()=>{fetch(`/api/instrumentos/${m}`).then(e=>e.json()).then(e=>{y(e.nome),w(e.categoria),k(e.ativo)}).catch(e=>j("Erro ao carregar instrumento")).finally(()=>E(!1))},[m]);let T=async e=>{e.preventDefault(),x(!0),j("");try{let e=await fetch(`/api/instrumentos/${m}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:g,categoria:N,ativo:C})});if(!e.ok){let a=await e.json();throw Error(a.error||"Erro ao atualizar instrumento")}f.push("/dashboard/instrumentos"),f.refresh()}catch(e){j(e instanceof Error?e.message:"Erro ao atualizar instrumento")}finally{x(!1)}},R=async()=>{if(confirm("Tem certeza que deseja desativar este instrumento?")){v(!0);try{if(!(await fetch(`/api/instrumentos/${m}`,{method:"DELETE"})).ok)throw Error("Erro ao desativar instrumento");f.push("/dashboard/instrumentos"),f.refresh()}catch(e){j(e instanceof Error?e.message:"Erro ao desativar instrumento")}finally{v(!1)}}};return S?(0,a.jsx)("div",{className:"text-center py-12",children:"Carregando..."}):(0,a.jsxs)("div",{className:"max-w-lg mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(s.default,{href:"/dashboard/instrumentos",children:(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(d.ArrowLeft,{className:"w-4 h-4"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Editar Instrumento"}),(0,a.jsx)("p",{className:"text-gray-500",children:g})]})]}),(0,a.jsxs)(i.Button,{variant:"destructive",size:"sm",onClick:R,disabled:p,children:[(0,a.jsx)(c.Trash2,{className:"w-4 h-4 mr-2"}),p?"Desativando...":"Desativar"]})]}),(0,a.jsxs)(o.Card,{children:[(0,a.jsx)(o.CardHeader,{children:(0,a.jsx)(o.CardTitle,{children:"Dados do Instrumento"})}),(0,a.jsx)(o.CardContent,{children:(0,a.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[b&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-600 bg-red-50 rounded-lg border border-red-200",children:b}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"nome",children:"Nome *"}),(0,a.jsx)(n.Input,{id:"nome",value:g,onChange:e=>y(e.target.value),placeholder:"Ex: Violino",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"categoria",children:"Categoria *"}),(0,a.jsxs)("select",{id:"categoria",value:N,onChange:e=>w(e.target.value),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-sm",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Selecione..."}),u.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"ativo",checked:C,onChange:e=>k(e.target.checked),className:"h-4 w-4"}),(0,a.jsx)(l.Label,{htmlFor:"ativo",className:"font-normal",children:"Instrumento Ativo"})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)(s.default,{href:"/dashboard/instrumentos",className:"flex-1",children:(0,a.jsx)(i.Button,{type:"button",variant:"outline",className:"w-full",children:"Cancelar"})}),(0,a.jsx)(i.Button,{type:"submit",className:"flex-1",disabled:h,children:h?"Salvando...":"Salvar Alterações"})]})]})})]})]})}e.s(["default",()=>m])}]);