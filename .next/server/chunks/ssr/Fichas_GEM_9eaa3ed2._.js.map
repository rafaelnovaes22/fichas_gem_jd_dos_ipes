{"version":3,"sources":["../../../../../Fichas_GEM/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../../Fichas_GEM/node_modules/%40radix-ui/react-label/dist/index.mjs","../../../../../Fichas_GEM/src/components/ui/label.tsx","../../../../../Fichas_GEM/src/components/ui/input.tsx","../../../../../Fichas_GEM/node_modules/%40radix-ui/react-label/node_modules/%40radix-ui/react-primitive/dist/index.mjs","../../../../../Fichas_GEM/src/app/dashboard/fichas/nova/form.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","\"use client\";\n\n// src/label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst labelVariants = cva(\r\n    \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n);\r\n\r\nconst Label = React.forwardRef<\r\n    React.ElementRef<typeof LabelPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n    <LabelPrimitive.Root\r\n        ref={ref}\r\n        className={cn(labelVariants(), className)}\r\n        {...props}\r\n    />\r\n));\r\nLabel.displayName = LabelPrimitive.Root.displayName;\r\n\r\nexport { Label };\r\n","import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        );\r\n    }\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst fichaSchema = z.object({\r\n    tipoAula: z.enum([\"SOLFEJO\", \"TEORIA_MUSICAL\", \"PRATICA_INSTRUMENTO\", \"HINARIO\"], {\r\n        required_error: \"Selecione o tipo de aula\",\r\n    }),\r\n    nivel: z.string().optional(),\r\n    livro: z.string().optional(),\r\n});\r\n\r\ntype FichaFormData = z.infer<typeof fichaSchema>;\r\n\r\ninterface NovaFichaFormProps {\r\n    alunoId: string;\r\n}\r\n\r\nexport function NovaFichaForm({ alunoId }: NovaFichaFormProps) {\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        watch,\r\n        formState: { errors },\r\n    } = useForm<FichaFormData>({\r\n        resolver: zodResolver(fichaSchema),\r\n        defaultValues: {\r\n            tipoAula: \"PRATICA_INSTRUMENTO\",\r\n        },\r\n    });\r\n\r\n    const tipoAula = watch(\"tipoAula\");\r\n\r\n    const onSubmit = async (data: FichaFormData) => {\r\n        setLoading(true);\r\n        setError(\"\");\r\n\r\n        try {\r\n            const res = await fetch(\"/api/fichas\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ ...data, alunoId }),\r\n            });\r\n\r\n            if (!res.ok) {\r\n                const errorData = await res.json();\r\n                throw new Error(errorData.error || \"Erro ao criar ficha\");\r\n            }\r\n\r\n            const ficha = await res.json();\r\n            router.push(`/dashboard/fichas/${ficha.id}`);\r\n            router.refresh();\r\n        } catch (err: any) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n            {error && (\r\n                <div className=\"bg-red-50 text-red-500 p-3 rounded-md text-sm\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"space-y-2\">\r\n                <Label htmlFor=\"tipoAula\">Tipo de Ficha *</Label>\r\n                <select\r\n                    id=\"tipoAula\"\r\n                    {...register(\"tipoAula\")}\r\n                    className=\"w-full h-10 px-3 rounded-md border border-input bg-background text-sm\"\r\n                >\r\n                    <option value=\"SOLFEJO\">Solfejo (Leitura Métrica)</option>\r\n                    <option value=\"TEORIA_MUSICAL\">Teoria Musical</option>\r\n                    <option value=\"PRATICA_INSTRUMENTO\">Prática de Instrumento</option>\r\n                    <option value=\"HINARIO\">Hinário</option>\r\n                </select>\r\n                {errors.tipoAula && (\r\n                    <p className=\"text-sm text-red-500\">{errors.tipoAula.message}</p>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"nivel\">Nível (Opcional)</Label>\r\n                    <Input\r\n                        id=\"nivel\"\r\n                        {...register(\"nivel\")}\r\n                        placeholder=\"Ex: Básico, Fase 1, Hinos 1-50\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"livro\">Método / Livro (Opcional)</Label>\r\n                    <Input\r\n                        id=\"livro\"\r\n                        {...register(\"livro\")}\r\n                        placeholder=\"Ex: Schmoll, Bona, Hinário 5\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"pt-4 flex justify-end\">\r\n                <Button type=\"submit\" disabled={loading}>\r\n                    {loading ? \"Criando...\" : \"Criar Ficha\"}\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"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","ignoreList":[0,1,4]}